const formLink=document.querySelector(".hotel-search"),formPopup=document.querySelector(".hotel-selection-modal"),formIn=formPopup.querySelector(".hotel-modal-in"),formOut=formPopup.querySelector(".hotel-modal-out"),formSubmit=formPopup.querySelector(".selection-submit"),formAdult=formPopup.querySelector(".adult"),formChildren=formPopup.querySelector(".children"),minusAdult=formPopup.querySelector(".hotel-selection-minus"),plusAdult=formPopup.querySelector(".hotel-selection-plusone"),minusChild=formPopup.querySelector(".hotel-selection-minustwo"),plusChild=formPopup.querySelector(".hotel-selection-plustwo");let isStorageSupport=!0,storageAdult=0,storageChildren=2,count=0,countChildren,countAdults;try{storageAdult=localStorage.getItem("adult"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}formLink.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.toggle("hotel-form-show"),formPopup.classList.toggle("hotel-form-animate"),formPopup.classList.remove("form-error"),(storageAdult||storageChildren)&&(formAdult.value=storageAdult,formChildren.value=storageChildren),formIn.focus()}),formSubmit.addEventListener("click",function(e){formIn.value&&formOut.value&&formAdult.value&&formChildren.value?isStorageSupport&&(localStorage.setItem("adult",formAdult.value),localStorage.setItem("children",formChildren.value)):(e.preventDefault(),1<=count&&alert("Все поля формы являются обязательными для заполнения!"),formPopup.classList.add("form-error"),count++)}),minusAdult.addEventListener("click",function(e){countAdults=formAdult.value,0<countAdults?formAdult.value=Number(countAdults)-1:formAdult.value=0}),plusAdult.addEventListener("click",function(e){countAdults=formAdult.value,formAdult.value=Number(countAdults)+1}),minusChild.addEventListener("click",function(e){countChildren=formChildren.value,0<countChildren?formChildren.value=Number(countChildren)-1:formChildren.value=0}),plusChild.addEventListener("click",function(e){countChildren=formChildren.value,formChildren.value=Number(countChildren)+1});